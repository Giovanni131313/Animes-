# For most projects, this workflow file will not need changing; you simply need
# to commit it to your repository.
#
# You may wish to alter this file to override the set of languages analyzed,
# or to provide custom queries or build logic.
#
# ******** NOTE ********
# We have attempted to detect the languages in your repository. Please check
# the `language` matrix defined below to confirm you have the correct set of
# supported CodeQL languages.
#
name: "CodeQL Advanced"

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
  schedule:
    - cron: '31 19 * * 0'

jobs:
  analyze:
    name: Analyze (${{ matrix.language }})
    # Runner size impacts CodeQL analysis time. To learn more, please see:
    #   - https://gh.io/recommended-hardware-resources-for-running-codeql
    #   - https://gh.io/supported-runners-and-hardware-resources
    #   - https://gh.io/using-larger-runners (GitHub.com only)
    # Consider using larger runners or machines with greater resources for possible analysis time improvements.
    runs-on: ${{ (matrix.language == 'swift' && 'macos-latest') || 'ubuntu-latest' }}
    permissions:
      # required for all workflows
      security-events: write

      # required to fetch internal or private CodeQL packs
      packages: read

      # only required for workflows in private repositories
      actions: read
      contents: read

    strategy:
      fail-fast: false
      matrix:
        include:
        - language: javascript-typescript
          build-mode: none
        # CodeQL supports the following values keywords for 'language': 'actions', 'c-cpp', 'csharp', 'go', 'java-kotlin', 'javascript-typescript', 'python', 'ruby', 'rust', 'swift'
        # Use `c-cpp` to analyze code written in C, C++ or both
        # Use 'java-kotlin' to analyze code written in Java, Kotlin or both
        # Use 'javascript-typescript' to analyze code written in JavaScript, TypeScript or both
        # To learn more about changing the languages that are analyzed or customizing the build mode for your analysis,
        # see https://docs.github.com/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/customizing-your-advanced-setup-for-code-scanning.
        # If you are analyzing a compiled language, you can modify the 'build-mode' for that language to customize how
        # your codebase is analyzed, see https://docs.github.com/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/codeql-code-scanning-for-compiled-languages
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    # Add any setup steps before running the `github/codeql-action/init` action.
    # This includes steps like installing compilers or runtimes (`actions/setup-node`
    # or others). This is typically only required for manual builds.
    # - name: Setup runtime (example)
    #   uses: actions/setup-example@v1

    # Initializes the CodeQL tools for scanning.
    - name: Initialize CodeQL
      uses: github/codeql-action/init@v4
      with:
        languages: ${{ matrix.language }}
        build-mode: ${{ matrix.build-mode }}
        # If you wish to specify custom queries, you can do so here or in a config file.
        # By default, queries listed here will override any specified in a config file.
        # Prefix the list here with "+" to use these queries and those in the config file.

        # For more details on CodeQL's query packs, refer to: https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs
        # queries: security-extended,security-and-quality

    # If the analyze step fails for one of the languages you are analyzing with
    # "We were unable to automatically build your code", modify the matrix above
    # to set the build mode to "manual" for that language. Then modify this step
    # to build your code.
    # ‚ÑπÔ∏è Command-line programs to run using the OS shell.
    # üìö See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun
    - name: Run manual build steps
      if: matrix.build-mode == 'manual'
      shell: bash
      run: |
        echo 'If you are using a "manual" build mode for one or more of the' \
          'languages you are analyzing, replace this with the commands to build' \
          'your code, for example:'
        echo '  make bootstrap'
        echo '  make release'
        exit 1

    - name: Perform CodeQL Analysis
      uses: github/codeql-action/analyze@v4
      with:
        category: "/language:${{matrix.language}}"
     - nome: Cache
  utiliza: actions/cache@v5.0.3
  com:
    # Uma lista de arquivos, diret√≥rios e padr√µes curinga para armazenar em cache e restaurar
    caminho:
    # Uma chave expl√≠cita para restaurar e salvar o cache
    chave:
    # Uma string ordenada de v√°rias linhas listando as chaves correspondentes ao prefixo, que s√£o usadas para restaurar o cache obsoleto caso n√£o ocorra nenhuma ocorr√™ncia de cache para a chave. Observe que `cache-hit` retorna falso neste caso.
    restaurar-chaves: # opcional
    # O tamanho do bloco usado para dividir arquivos grandes durante o upload, em bytes
    tamanho-do-peda√ßo-de-upload: # opcional
    # Um valor booleano opcional que, quando ativado, permite que os executores do Windows salvem ou restaurem caches que podem ser restaurados ou salvos, respectivamente, em outras plataformas.
    enableCrossOsArchive: # opcional, o padr√£o √© falso
    # Falhe o fluxo de trabalho se a entrada de cache n√£o for encontrada
    falha-em-cache-miss: # opcional, o padr√£o √© falso
    # Verifica se existe uma entrada de cache para a(s) entrada(s) fornecida(s) (chave, chaves-de-restaura√ß√£o) sem baixar o cache
    lookup-only: # opcional, o padr√£o √© falso
    # Execute a etapa p√≥s-execu√ß√£o para salvar o cache mesmo que uma etapa anterior falhe
    salvar-sempre: # opcional, o padr√£o √© falso
         - nome: Carregar um artefato de compila√ß√£o
  utiliza: actions/upload-artifact@v6.0.0
  com:
    # Nome do artefato
    nome: # opcional, o padr√£o √© artefato
    # Um arquivo, diret√≥rio ou padr√£o curinga que descreve o que deve ser enviado
    caminho:
    # O comportamento desejado caso nenhum arquivo seja encontrado usando o caminho fornecido.
Op√ß√µes dispon√≠veis:
  aviso: Exiba um aviso, mas n√£o interrompa a a√ß√£o.
  erro: Falha na a√ß√£o com uma mensagem de erro 
  Ignorar: N√£o exibir avisos ou erros; a a√ß√£o n√£o falhar√°.
if-no-files-found: # opcional, o padr√£o √© warn
    # Dura√ß√£o em dias ap√≥s a qual o artefato expirar√°. 0 significa usar a reten√ß√£o padr√£o.
                                                                                                               
    M√≠nimo de 1 dia. M√°ximo de 90 dias, a menos que seja alterado na p√°gina de configura√ß√µes do reposit√≥rio.
. dias-de-reten√ß√£o: # opcional
    # O n√≠vel de compress√£o do Zlib a ser aplicado ao arquivo compactado. O valor pode variar de 0 a 9: - 0: Sem compress√£o - 1: Melhor velocidade - 6: Compress√£o padr√£o (igual ao GNU Gzip) - 9: Melhor compress√£o. N√≠veis mais altos resultar√£o em melhor compress√£o, mas levar√£o mais tempo para concluir o processo. Para arquivos grandes que n√£o s√£o facilmente comprimidos, recomenda-se o valor 0 para uploads significativamente mais r√°pidos.
    n√≠vel-de-compress√£o: # opcional, o padr√£o √© 6
    # Se verdadeiro, um artefato com o nome correspondente ser√° exclu√≠do antes que um novo seja carregado. Se falso, a a√ß√£o falhar√° se j√° existir um artefato com o nome fornecido. N√£o falhar√° se o artefato n√£o existir.

    sobrescrever: # opcional, o padr√£o √© falso
    # Se verdadeiro, os arquivos ocultos ser√£o inclu√≠dos no artefato. Se falso, os arquivos ocultos ser√£o exclu√≠dos do artefato.

    include-hidden-files: # opcional, o padr√£o √© falso
               - nome: Configurar ambiente Go
  utiliza: actions/setup-go@v6.2.0
  com:
    # A vers√£o Go para baixar (se necess√°rio) e usar. Suporta especifica√ß√µes e intervalos de versionamento sem√¢ntico. Certifique-se de colocar esta op√ß√£o entre aspas simples.
    vers√£o go: # opcional
    # Caminho para o arquivo go.mod, go.work, .go-version ou .tool-versions.
    go-version-file: # opcional
    # Defina esta op√ß√£o como verdadeira se desejar que a a√ß√£o sempre verifique a vers√£o mais recente dispon√≠vel que atenda √† especifica√ß√£o de vers√£o.
    verificar-mais-recente: # opcional
    # Usado para obter distribui√ß√µes Go do go-versions. Como existe um valor padr√£o, este normalmente n√£o √© fornecido pelo usu√°rio. Ao executar esta a√ß√£o no github.com, o valor padr√£o √© suficiente. Ao executar no GHES, voc√™ pode fornecer um token de acesso pessoal para o github.com caso esteja enfrentando limita√ß√£o de taxa.
    token: # opcional, o padr√£o √© ${{ github.server_url == 'https://github.com' && github.token || '' }}
    # Usado para especificar se o armazenamento em cache √© necess√°rio. Defina como verdadeiro se desejar ativar o armazenamento em cache.
    cache: # opcional, o padr√£o √© verdadeiro
    # Usado para especificar o caminho para um arquivo de depend√™ncia - go.sum
    caminho-depend√™ncia-de-cache: # opcional
    # Arquitetura de destino para o Go usar. Exemplos: x86, x64. A arquitetura do sistema ser√° usada por padr√£o.
    arquitetura: # opcional
                      - nome: Configurar ambiente Go
  utiliza: actions/setup-go@v6.2.0
  com:
    # A vers√£o Go para baixar (se necess√°rio) e usar. Suporta especifica√ß√µes e intervalos de versionamento sem√¢ntico. Certifique-se de colocar esta op√ß√£o entre aspas simples.
    vers√£o go: # opcional
    # Caminho para o arquivo go.mod, go.work, .go-version ou .tool-versions.
    go-version-file: # opcional
    # Defina esta op√ß√£o como verdadeira se desejar que a a√ß√£o sempre verifique a vers√£o mais recente dispon√≠vel que atenda √† especifica√ß√£o de vers√£o.
    verificar-mais-recente: # opcional
    # Usado para obter distribui√ß√µes Go do go-versions. Como existe um valor padr√£o, este normalmente n√£o √© fornecido pelo usu√°rio. Ao executar esta a√ß√£o no github.com, o valor padr√£o √© suficiente. Ao executar no GHES, voc√™ pode fornecer um token de acesso pessoal para o github.com caso esteja enfrentando limita√ß√£o de taxa.
    token: # opcional, o padr√£o √© ${{ github.server_url == 'https://github.com' && github.token || '' }}
    # Usado para especificar se o armazenamento em cache √© necess√°rio. Defina como verdadeiro se desejar ativar o armazenamento em cache.
    cache: # opcional, o padr√£o √© verdadeiro
    # Usado para especificar o caminho para um arquivo de depend√™ncia - go.sum
    caminho-depend√™ncia-de-cache: # opcional
    # Arquitetura de destino para o Go usar. Exemplos: x86, x64. A arquitetura do sistema ser√° usada por padr√£o.
    arquitetura: # opcional
                      - nome: Configurar ambiente Go
  utiliza: actions/setup-go@v6.2.0
  com:
    # A vers√£o Go para baixar (se necess√°rio) e usar. Suporta especifica√ß√µes e intervalos de versionamento sem√¢ntico. Certifique-se de colocar esta op√ß√£o entre aspas simples.
    vers√£o go: # opcional
    # Caminho para o arquivo go.mod, go.work, .go-version ou .tool-versions.
    go-version-file: # opcional
    # Defina esta op√ß√£o como verdadeira se desejar que a a√ß√£o sempre verifique a vers√£o mais recente dispon√≠vel que atenda √† especifica√ß√£o de vers√£o.
    verificar-mais-recente: # opcional
    # Usado para obter distribui√ß√µes Go do go-versions. Como existe um valor padr√£o, este normalmente n√£o √© fornecido pelo usu√°rio. Ao executar esta a√ß√£o no github.com, o valor padr√£o √© suficiente. Ao executar no GHES, voc√™ pode fornecer um token de acesso pessoal para o github.com caso esteja enfrentando limita√ß√£o de taxa.
    token: # opcional, o padr√£o √© ${{ github.server_url == 'https://github.com' && github.token || '' }}
    # Usado para especificar se o armazenamento em cache √© necess√°rio. Defina como verdadeiro se desejar ativar o armazenamento em cache.
    cache: # opcional, o padr√£o √© verdadeiro
    # Usado para especificar o caminho para um arquivo de depend√™ncia - go.sum
    caminho-depend√™ncia-de-cache: # opcional
    # Arquitetura de destino para o Go usar. Exemplos: x86, x64. A arquitetura do sistema ser√° usada por padr√£o.
    arquitetura: # opcional
                
